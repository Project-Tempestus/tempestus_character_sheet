

<!-- Title -->
<div class="sheet-project-title" style="display: flex">
  <div class="sheet-item" style="width: 25%; display: flex; justify-content: space-around">
    <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/inquisition_glow_green.png"
      alt="inquisition_glow_green" style="height: 100px" />
  </div>
  <div class="sheet-item" style="
      width: 50%;
      display: flex;
      justify-content: space-evenly;
      flex-direction: column;
    ">
    <h1 id="card_title" data-i18n="project-title-u">PROJECT: Tempestus</h1>
    <h4 data-i18n="assessment-report-u">
      The Imperial Infantryman's Assessment Report
    </h4>
  </div>
  <div class="sheet-item" style="width: 25%; display: flex; justify-content: space-around">
    <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/inquisition_glow_green.png"
      alt="inquisition_glow_green" style="height: 100px" />
  </div>
</div>
<!-- Tabs -->
<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab" value="entrypoint" />
<div class="sheet-navigation-tabs">
  <button type="action" name="act_entrypoint" data-i18n="entrypoint-name-u" class="tab-button">
    Main tab
  </button>
  <button type="action" name="act_personal" data-i18n="personal-name-u" class="tab-button">
    Personal tab
  </button>
</div>

<!-- /////// -->
<!-- Tab one -->
<!-- /////// -->
<div class="sheet-entrypoint">
  <div class="sheet-entrypoint-grid">
    <!-- Soldier's Particulars  -->
        <div class="sheet-soldier-particulars">
      <div class="sheet-item">
        <h2 data-i18n="soldier-particulars-u">Soldier's Particulars</h2>
      </div>
      <div style="display:flex;">
        <div style="width:60%">
          <div class="sheet-row" style="display: flex">
            <div class="sheet-item">
              <p data-i18n="name-u">Name</p>
            </div>
            <div class="sheet-item">
              <textarea
                name="attr_name"
                style="width: 200px; height: 20px; resize: none; text-align: center"
              ></textarea>
            </div>
          </div>
          <div class="sheet-row" style="display: flex">
            <div class="sheet-item">
              <p data-i18n="surname-u">Surname</p>
            </div>
            <div class="sheet-item">
              <textarea
                name="attr_surname"
                style="width: 200px; height: 20px; resize: none; text-align: center"
              ></textarea>
            </div>
          </div>

          <div class="sheet-row" style="display: flex">
            <div class="sheet-item">
              <p data-i18n="regiment-u">Regiment</p>
            </div>
            <div class="sheet-item">
              <select
                name="attr_regiment"
                class="advanceselect"
                style="width: 210px; height: 30px; text-align: center"
              >
                <option>Armageddon</option>
                <option>Cadia</option>
                <option>Catachan</option>
                <option>Krieg</option>
                <option>Vostroya</option>
              </select>
            </div>
          </div>
          <div class="sheet-row" style="display: flex">
            <div class="sheet-item">
              <p data-i18n="class-u">Class</p>
            </div>
            <div class="sheet-item">
              <select
                name="attr_class"
                class="advanceselect"
                style="width: 210px; height: 30px"
              >
                <option data-i18n="sargeant-u">[SRŻ] Sierżant</option>
                <option data-i18n="stormtrooper-u">[SZT] Szturmowiec</option>
                <option data-i18n="sharpshooter-u">[STR] Strzelec</option>
                <option data-i18n="grenadier-u">[GRE] Grenadier</option>
                <option data-i18n="engineer-u">[INŻ] Inżynier</option>
                <option data-i18n="scout-u">[ZWD] Zwiadowca</option>
                <option data-i18n="chirurgeon-u">[CHR] Chirurgon</option>
              </select>
            </div>
          </div>
        </div>
        <div style="width:40%">
          <div class="sheet-row">
            <div class="sheet-item" style="justify-content: center; margin:5px;">
              <button
              type="action"
              name="act_rank_demotion"
              class="rank-button"
              style="margin:5px; margin-top: 45px; transform: rotate(-225deg); -webkit-transform: rotate(-225deg);"
              ></button>
              <img
                name="attr_current_rank"
                alt="rank_404"
                style="height: 120px;margin:5px;"
              />
              <button
              type="action"
              name="act_rank_promotion"
              class="rank-button"
              style="margin:5px; margin-top: 45px; transform: rotate(-315deg); -webkit-transform: rotate(315deg);"
              ></button>
            </div>
            <div class="sheet-item" style="justify-content: center; margin:5px;">
              <input readonly name="attr_current_rank_name" value="Rekrut"
              style="border:0px; font-family:'Courier New';font-size: large;
              font-weight: 600;"/>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Shots rolls : 1,2,3,5, custom -->
    <div class="sheet-shot-rolls">
      <div class="sheet-row" style="
          display: flex;
          align-content: center;
          justify-content: center;
          flex-wrap: nowrap;
          flex-direction: row;
          align-items: center;
        ">
        <h2 data-i18n="combat-u">Combat</h2>
      </div>
      <div class="sheet-row" style="
          display: flex;
          align-content: center;
          justify-content: center;
          flex-wrap: nowrap;
          flex-direction: row;
          align-items: center;
        ">
        <div class="sheet-item">
          <p data-i18n="weapon-u">Weapon</p>
        </div>
        <div class="sheet-item">
          <p>x1</p>
        </div>
        <div class="sheet-item">
          <p>x2</p>
        </div>
        <div class="sheet-item">
          <p>x3</p>
        </div>
        <div class="sheet-item">
          <p>x5</p>
        </div>
        <div class="sheet-item">
          <p data-i18n="custom-u">Custom</p>
        </div>
        <div class="sheet-item">
          <p data-i18n="xcustom-u">x{Custom}</p>
        </div>
      </div>

      <div class="sheet-row" style="
          display: flex;
          align-content: center;
          justify-content: center;
          flex-wrap: nowrap;
          flex-direction: row;
          align-items: center;
        ">
        <div class="sheet-item">
          <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/tokens/rifle_icon.png"
            alt="rifle_icon" style="height: 60px; width: 60px" />
        </div>
        <div class="sheet-item" style="height:63px;">
          <button  type="action" name="act_button_shot_1" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button  type="action" name="act_button_shot_2" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button  type="action" name="act_button_shot_3" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button  type="action" name="act_button_shot_5" class="roll_button"></button>
        </div>
        <div class="sheet-item">
          <input type="number" name="attr_shots" />
        </div>
        <div class="sheet-item" style="height:63px;">
          <button  type="action" name="act_button_shots" class="roll_button"></button>
        </div>
      </div>

      <div class="sheet-row" style="
          display: flex;
          align-content: center;
          justify-content: center;
          flex-wrap: nowrap;
          flex-direction: row;
          align-items: center;
        ">
        <div class="sheet-item">
          <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/tokens/shotgun_icon.png"
            alt="shotgun_icon" style="height: 60px; width: 60px" />
        </div>
        <div class="sheet-item" style="height:63px;">
          <button type="action" name="act_button_hit_1" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button type="action" name="act_button_hit_2" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button type="action" name="act_button_hit_3" class="roll_button"></button>
        </div>
        <div class="sheet-item" style="height:63px;">
          <button type="action" name="act_button_hit_5" class="roll_button"></button>
        </div>
        <div class="sheet-item">
          <input type="number" name="attr_hits" />
        </div>
        <div class="sheet-item" style="height:63px;">
          <button type="action" name="act_button_hits" class="roll_button"></button>
        </div>
      </div>
    </div>

    <div class="sheet-extra-information">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="extra-information-u" class="gear-u">
            Extra information
          </h2>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-item">
          <textarea name="attr_extra_information" style="height: 357px; width: 100%; resize: none;	text-align:left;"></textarea>
        </div>
      </div>
      <div class="sheet-row">
        <div>
          <h3 data-i18n="special-skill-u">Special skill</h3>
          <fieldset class="repeating_specialskill">
            <select name="attr_special_skill" class="advanceselect">
<option data-i18n="item-none-u">Brak</option>

<option data-i18n="special_skill-0-u">As</option>
<option data-i18n="special_skill-1-u">Cicha śmierć</option>
<option data-i18n="special_skill-2-u">Dobra passa</option>
<option data-i18n="special_skill-3-u">Gracz zespołowy</option>
<option data-i18n="special_skill-4-u">Kolba to broń</option>
<option data-i18n="special_skill-5-u">Nożownik</option>
<option data-i18n="special_skill-6-u">Męczennik</option>
<option data-i18n="special_skill-7-u">Oczy spawacza ze stoczni</option>
<option data-i18n="special_skill-8-u">Odporność Chemiczna</option>
<option data-i18n="special_skill-9-u">Quid pro quo</option>
<option data-i18n="special_skill-10-u">Pajacyki na poligonie</option>
<option data-i18n="special_skill-11-u">Perswazja</option>
<option data-i18n="special_skill-12-u">Pieniądze leżą na ulicy</option>
<option data-i18n="special_skill-13-u">Rzut oka</option>
<option data-i18n="special_skill-14-u">Sprinter</option>
<option data-i18n="special_skill-15-u">Szczęściarz</option>
<option data-i18n="special_skill-16-u">Szczęście w nieszczęściu</option>
<option data-i18n="special_skill-17-u">Szybka Reakcja</option>
<option data-i18n="special_skill-18-u">Śmiałe manewry</option>
<option data-i18n="special_skill-19-u">Zastraszanie</option>
<option data-i18n="special_skill-20-u">[SRŻ] Blitzkrieg</option>
<option data-i18n="special_skill-21-u">[SRŻ] Jastrząb</option>
<option data-i18n="special_skill-22-u">[SRŻ] Strateg</option>
<option data-i18n="special_skill-23-u">[SRŻ][WET] Inspiracja</option>
<option data-i18n="special_skill-24-u">[SZT] Ciśnięcie Russa</option>
<option data-i18n="special_skill-25-u">[SZT][WET] Riposta</option>
<option data-i18n="special_skill-26-u">[GRE] Grognard</option>
<option data-i18n="special_skill-27-u">[GRE][WET] Gotowanie granatów</option>
<option data-i18n="special_skill-28-u">[INŻ] Łaska Omnisajasza</option>
<option data-i18n="special_skill-29-u">[INŻ] Rusznikarz majsterkowicz</option>
<option data-i18n="special_skill-30-u">[ZWD] Tropiciel</option>
<option data-i18n="special_skill-31-u">[ZWD][INŻ] Rusznikarz</option>
<option data-i18n="special_skill-32-u">[ZWD][WET] Rozpaczliwa obrona</option>
<option data-i18n="special_skill-33-u">[CHR] Dozowanie</option>
<option data-i18n="special_skill-34-u">[CHR] Ostatnie Minuty</option>
<option data-i18n="special_skill-35-u">[INŻ][ZWD][CHR] Wybraniec Omnisajasza</option>
<option data-i18n="special_skill-36-u">[WET] Salut śmierci</option>

</select>
          </fieldset>
        </div>
      </div>
    </div>

    <!-- Skills -->
    <div class="sheet-skills">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="skill-points-u"="gear-u">Skill Points</h2>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="marksmanship-u">Marksmanship</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_marksmanship_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_marksmanship_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_marksmanship" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;">
            <button style="line-height:2em;" type="action" name="act_button_marksmanship" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="cqb-u">cqb</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_cqb_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_cqb_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_cqb" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;">
            <button style="line-height:2em;" type="action" name="act_button_cqb" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="strength-u">strength</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_strength_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_strength_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_strength" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;">
            <button style="line-height:2em;" type="action" name="act_button_strength" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="constitution-u">constitution</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_constitution_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_constitution_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_constitution" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;">
            <button style="line-height:2em;" type="action" name="act_button_constitution" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="agility-u">agility</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_agility_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_agility_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_agility" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;" >
            <button  style="line-height:2em;" type="action" name="act_button_agility" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname">
            <h3 data-i18n="knowledge-u">knowledge</h3>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_knowledge_base" value="0" readonly />
            <p>+</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_knowledge_modifier" value="0" />
            <p>=</p>
          </div>
          <div class="sheet-skill-value">
            <input type="number" name="attr_knowledge" value="0" readonly />
          </div>
          <div class="sheet-skill-roll" style="line-height:2em;" >
            <button  style="line-height:2em;"  type="action" name="act_button_knowledge" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname" style="width: 50%">
            <h3 data-i18n="initiative-u"  style="text-align: right">initiative</h3>
          </div>
          <div class="sheet-skill-value" style="width: 33%; justify-content: flex-start;line-height:2em;">
            <button style="line-height:2em;" type="action" name="act_button_initiative" class="roll_button"></button>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname" style="width: 50%">
            <h3 data-i18n="health-points-u" style="text-align: right">
              health-points
            </h3>
          </div>
          <div class="sheet-skill-value" style="width: 33%; justify-content: flex-start">
            <input type="number" name="attr_health-points_base" value="0" readonly />
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname" style="width: 50%">
            <h3 data-i18n="cash-u" style="text-align: right">
              Imperialne Trony
            </h3>
          </div>
          <div class="sheet-skill-value" style="width: 33%; justify-content: flex-start">
            <input type="number" name="attr_cash" value="10" />
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-skill-item">
          <div class="sheet-skill-textname" style="width: 50%">
            <h3 data-i18n="seals-u" style="text-align: right">
              Pieczęci Czystości
            </h3>
          </div>
          <div class="sheet-skill-value" style="width: 33%; justify-content: flex-start">
            <input type="number" name="attr_seals" value="0" />
          </div>
        </div>
      </div>


            <rolltemplate class="sheet-rolltemplate-test">
        <div class="sheet-template-container">
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">{{character_name}}</h4>
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">Test: {{test_name}}</h4>
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center; color:var(--TempestusGreen)" class="sheet-template-text">Poziom cechy: {{character_skill}}</h4>
          <hr style="border-top: 1px dashed rgb(17, 192, 17) !important;margin:5px; height:5px;"id="rolltemplate-header-spacer">
          <div style="padding:2px;" class="sheet-results">
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll1}}</h4>
           </div>
           <div class="sheet-template-signature">
           <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/winged_skull.png"
            alt="restricted_access" style="height: 20px;" />
          </div>
        </div>
      </rolltemplate>
      <rolltemplate class="sheet-rolltemplate-ricochet">
        <div class="sheet-template-container">
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">{{character_name}}</h4>
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">Test: {{test_name}}</h4>
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center; color:var(--TempestusGreen)" class="sheet-template-text">Poziom cechy: {{character_skill}}</h4>
          <hr style="border-top: 1px dashed rgb(17, 192, 17) !important;margin:5px; height:5px;"id="rolltemplate-header-spacer">
          <div style="padding:2px;" class="sheet-results">
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll1}} {{computed::roll2}} {{computed::roll3}} {{computed::roll4}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll5}} {{computed::roll6}} {{computed::roll7}} {{computed::roll8}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll9}} {{computed::roll10}} {{computed::roll11}} {{computed::roll12}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll13}} {{computed::roll14}} {{computed::roll15}} {{computed::roll16}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll17}} {{computed::roll18}} {{computed::roll19}} {{computed::roll20}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll21}} {{computed::roll22}} {{computed::roll23}} {{computed::roll24}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll25}} {{computed::roll26}} {{computed::roll27}} {{computed::roll28}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll29}} {{computed::roll30}} {{computed::roll31}} {{computed::roll32}}</h4>
          </div>
          <div style="padding:2px;" class="sheet-results">
            <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">Szansa na rykoszet (96-100)</h4>
            <hr style="border-top: 1px dashed rgb(17, 192, 17) !important;margin:5px; height:5px;"id="rolltemplate-header-spacer">
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::roll_ricochet}}</h4>
           </div>
           <div class="sheet-template-signature">
           <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/winged_skull.png"
            alt="restricted_access" style="height: 20px;" />
          </div>
        </div>
      </rolltemplate>
      <rolltemplate class="sheet-rolltemplate-locations">
        <div class="sheet-template-container">
          <h4 style="font-family: 'Courier New';color:rgb(17, 192, 17) !important;margin:3px;text-align:center" class="sheet-template-text">Trafienia:</h4>
          <div style="padding:2px;" class="sheet-results">
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::out_hit_location1}} {{computed::out_hit_location2}} {{computed::out_hit_location3}} {{computed::out_hit_location4}}</h4>
            <h4 style="text-align:center; margin:3px;" class="sheet-template-text">{{computed::out_hit_location5}} {{computed::out_hit_location6}} {{computed::out_hit_location7}} {{computed::out_hit_location8}}</h4>
          </div>
        </div>
      </rolltemplate>
    </div>

    <!-- Extra gear -->
    <div class="sheet-extra-gear">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="extra-gear-u">Extra gear</h2>
        </div>
        <div class="sheet-row" id="extra-gear-row">
          <div>
            <h3> Plecak </h3>
            <fieldset class="repeating_gearbackpack">
              <input type="text" name="attr_gearbackpack" value="">
            </fieldset>
          </div>
          <div>
            <h3> Podwieszka </h3>
            <fieldset class="repeating_gearshoulderbag">
              <input type="text" name="attr_gearshoulderbag" value="">
            </fieldset>
          </div>
          <div>
            <h3> Pas </h3>
            <fieldset class="repeating_gearwaist">
              <input type="text" name="attr_gearwaist" value="">
            </fieldset>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- /////// -->
<!-- Tab two -->
<!-- /////// -->
<div class="sheet-personal">
  <div class="sheet-personal-grid">
    <!-- Head and body -->
    <div class="sheet-head-and-body">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="head-and-body-u" class="head-and-body-u">
            Head and body
          </h2>
        </div>
      </div>
    <!-- REMOVE THIS TEXT -->

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="face-u">Twarz</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_face" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="face-0-u">M - Marcus</option>
          <option data-i18n="face-1-u">M - Varn</option>
          <option data-i18n="face-2-u">M - Jimm</option>
          <option data-i18n="face-3-u">M - Adrian</option>
          <option data-i18n="face-4-u">M - Gunter</option>
          <option data-i18n="face-5-u">M - Lee</option>
          <option data-i18n="face-6-u">M - Olgierd</option>
          <option data-i18n="face-7-u">M - Ralph</option>
          <option data-i18n="face-8-u">M - Sean</option>
          <option data-i18n="face-9-u">M - Redvald</option>
          <option data-i18n="face-10-u">M - Paul</option>
          <option data-i18n="face-11-u">M - Dane</option>
          <option data-i18n="face-12-u">M - Larry</option>
          <option data-i18n="face-13-u">M - Joshua</option>
          <option data-i18n="face-14-u">M - George</option>
          <option data-i18n="face-15-u">M - Leonard</option>
          <option data-i18n="face-16-u">M - Will</option>
          <option data-i18n="face-17-u">F - Erma</option>
          <option data-i18n="face-18-u">F - Astrid</option>
          <option data-i18n="face-19-u">F - Helga</option>
          <option data-i18n="face-20-u">F - Kate</option>
          <option data-i18n="face-21-u">F - Laura</option>
          <option data-i18n="face-22-u">F - Linda</option>
          <option data-i18n="face-23-u">F - Martha</option>
          <option data-i18n="face-24-u">F - Sayan</option>
          <option data-i18n="face-25-u">F - Solveig</option>
          <option data-i18n="face-26-u">F - Lara</option>
          <option data-i18n="face-27-u">F - Mia</option>
          <option data-i18n="face-28-u">F - Juliet</option>
          <option data-i18n="face-29-u">F - Lisa</option>
          <option data-i18n="face-30-u">F - Pak</option>
          <option data-i18n="face-31-u">F - Sarah</option>
          <option data-i18n="face-32-u">F - Alice</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="tatoo-u">Tatuaże</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_tatoo" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="tatoo-0-u">Czaszka</option>
          <option data-i18n="tatoo-1-u">Kamuflaż</option>
          <option data-i18n="tatoo-2-u">Nordycki</option>
          <option data-i18n="tatoo-3-u">Gwardia</option>
          <option data-i18n="tatoo-4-u">Geometria</option>
          <option data-i18n="tatoo-5-u">Bandyta</option>
          <option data-i18n="tatoo-6-u">Brud</option>
          <option data-i18n="tatoo-7-u">Tribal</option>
          <option data-i18n="tatoo-8-u">Gładki Wzór</option>
          <option data-i18n="tatoo-9-u">Okręgi</option>
          <option data-i18n="tatoo-10-u">Celtycki</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="augmentics-u">Augmentacje</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_augmentics" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="augmentics-0-u">2T - Bioniczna Ręka</option>
          <option data-i18n="augmentics-1-u">3T - Bioniczne Ręce</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="facial_hair-u">Zarost</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_facial_hair" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="facial_hair-0-u">Broda</option>
          <option data-i18n="facial_hair-1-u">Wąs</option>
          <option data-i18n="facial_hair-2-u">Bokobrody</option>
          <option data-i18n="facial_hair-3-u">Broda Vostroyańska</option>
          <option data-i18n="facial_hair-4-u">Jednodniowy</option>
          <option data-i18n="facial_hair-5-u">Broda Kurtynowa</option>
          <option data-i18n="facial_hair-6-u">Admiralski Wąs</option>
          <option data-i18n="facial_hair-7-u">Dłuższa Broda</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="hairstyle-u">Włosy</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_hairstyle" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="hairstyle-0-u">M - Przedziałek</option>
          <option data-i18n="hairstyle-1-u">M - Dłuższe Końcówki</option>
          <option data-i18n="hairstyle-2-u">M - Irokez</option>
          <option data-i18n="hairstyle-3-u">M - Jeż</option>
          <option data-i18n="hairstyle-4-u">M - Garnek</option>
          <option data-i18n="hairstyle-5-u">M - Podcięty Garnek</option>
          <option data-i18n="hairstyle-6-u">M - Wybuch</option>
          <option data-i18n="hairstyle-7-u">M - Boczny</option>
          <option data-i18n="hairstyle-8-u">M - Długie</option>
          <option data-i18n="hairstyle-9-u">M - Zaczesane</option>
          <option data-i18n="hairstyle-10-u">M - Kapłańskie</option>
          <option data-i18n="hairstyle-11-u">M - Kucyk</option>
          <option data-i18n="hairstyle-12-u">F - Bob</option>
          <option data-i18n="hairstyle-13-u">F - Chłopięcy</option>
          <option data-i18n="hairstyle-14-u">F - Warkocz</option>
          <option data-i18n="hairstyle-15-u">F - Jeż</option>
          <option data-i18n="hairstyle-16-u">F - Przyjaciółka z Dzieciństwa</option>
          <option data-i18n="hairstyle-17-u">F - Dredy</option>
          <option data-i18n="hairstyle-18-u">F - Kucyk</option>
          <option data-i18n="hairstyle-19-u">F - Irokez</option>
          <option data-i18n="hairstyle-20-u">F - Adepta Sororitas</option>
          <option data-i18n="hairstyle-21-u">F - Proste Długie</option>
          <option data-i18n="hairstyle-22-u">F - Proste</option>
          <option data-i18n="hairstyle-23-u">F - Zaczesane</option>

          </select>
        </div>
    </div>
</div>
    <!-- END: REMOVE THIS TEXT -->
      <div class="sheet-row">
        <div class="sheet-item">
          <div class="sheet-item-left">
            <p data-i18n="hair-color-u">Hair color</p>
          </div>
          <div class="sheet-item-right">
            <textarea
            name="attr_hair_color"
            style="width: 98%; height: 20px; resize: none; text-align: center"
          ></textarea>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-item">
          <div class="sheet-item-left">
            <p data-i18n="skin-color-u">Skin color</p>
          </div>
          <div class="sheet-item-right">
            <textarea
            name="attr_skin_color"
            style="width: 98%; height: 20px; resize: none; text-align: center"
          ></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- Clothing -->
    <div class="sheet-clothing">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="clothing-u" class="head-and-body-u">Clothing</h2>
        </div>
      </div>
    <!-- REMOVE THIS TEXT -->

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="boots-u">Obuwie</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_boots" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="boots-0-u">1T - Cadiańskie Buty</option>
          <option data-i18n="boots-1-u">2T - Szturmówki</option>
          <option data-i18n="boots-2-u">Kriegańskie Okopówki</option>
          <option data-i18n="boots-3-u">Trapery Armageddońskie</option>
          <option data-i18n="boots-4-u">Wysokie Trzewiki</option>
          <option data-i18n="boots-5-u">Chromówki</option>
          <option data-i18n="boots-6-u">Kamasze</option>
          <option data-i18n="boots-7-u">Wysokie Skórzane Buty</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="pants-u">Spodnie</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_pants" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="pants-0-u">Spodnie Mundurowe Standardowe</option>
          <option data-i18n="pants-1-u">Spodnie Mundurowe Wąskie</option>
          <option data-i18n="pants-2-u">Spodnie Mundurowe Krótsze</option>
          <option data-i18n="pants-3-u">Spodnie Cywilne Opuszczone</option>
          <option data-i18n="pants-4-u">Spodnie Cywilne Wąskie</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="leg_armor-u">Pancerz na nogi</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_leg_armor" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="leg_armor-0-u">1T - Cadiańskie Ochraniacze</option>
          <option data-i18n="leg_armor-1-u">2T - Ochraniacze Flak</option>
          <option data-i18n="leg_armor-2-u">3T - Catachańskie Biegacze</option>
          <option data-i18n="leg_armor-3-u">[GRE] 2T - Nagolenniki Grenadierów</option>
          <option data-i18n="leg_armor-4-u">[ZWD] 2T - Pancerz Zwiadowczy</option>
          <option data-i18n="leg_armor-5-u">[WET][SZT] 3P - Nagolenniki wz. Tempestus</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="shirt-u">Koszula</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_shirt" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="shirt-0-u">Cadiańska Tunika z podwiniętymi rękawami</option>
          <option data-i18n="shirt-1-u">Cadiańska Tunika bez rękawów</option>
          <option data-i18n="shirt-2-u">Cadiańska Tunika</option>
          <option data-i18n="shirt-3-u">Płaszcz Stalowego Legionu</option>
          <option data-i18n="shirt-4-u">Kriegański Trencz</option>
          <option data-i18n="shirt-5-u">Vostroyański Płaszcz</option>
          <option data-i18n="shirt-6-u">Koszula Catachańska z podwiniętymi rękawami</option>
          <option data-i18n="shirt-7-u">Koszula Catachańska</option>
          <option data-i18n="shirt-8-u">Tank Top</option>
          <option data-i18n="shirt-9-u">Gwardyjska Tunika</option>
          <option data-i18n="shirt-10-u">Skórzana Kurta</option>
          <option data-i18n="shirt-11-u">[Ranga 7. Sierżant] Płaszcz Oficerskiego Kadeta</option>
          <option data-i18n="shirt-12-u">[Ranga 9. Srż. Sztabowy] Płaszcz Oficerski</option>
          <option data-i18n="shirt-13-u">[Ranga 11. Chorąży] Tunika Komisarska</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="gloves-u">Rękawice</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_gloves" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="gloves-0-u">2T - Wzmocnione Rękawice</option>
          <option data-i18n="gloves-1-u">[WET]/[SRŻ] 2T - Vostroyańskie Rękawice Płytowe</option>
          <option data-i18n="gloves-2-u">[GRE] 1T - Rękawice Grenadierów</option>
          <option data-i18n="gloves-3-u">[INŻ] 1T - Rękawice z panelem technicznym</option>
          <option data-i18n="gloves-4-u">[CHR] 2T - Narthecium</option>
          <option data-i18n="gloves-5-u">Skórzane Rękawiczki</option>
          <option data-i18n="gloves-6-u">Rękawiczki bez palców</option>
          <option data-i18n="gloves-7-u">Rękawice Czołgistów</option>
          <option data-i18n="gloves-8-u">Pasy</option>
          <option data-i18n="gloves-9-u">[WET] 1P - Rękawice Weterańskie</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="chest-u">Klatka piersiowa</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_chest" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="chest-0-u">2T - Pancerz Flak</option>
          <option data-i18n="chest-1-u">4T - Ciężki Pancerz Flak</option>
          <option data-i18n="chest-2-u">[SRŻ] 2T - Kirys Oficerski</option>
          <option data-i18n="chest-3-u">[WET]/[SRŻ]  2T - Vostroyański Ryngraf</option>
          <option data-i18n="chest-4-u">[Ranga 2. St. Gwardzista] 4T - Catachański Pancerz Dżunglowy</option>
          <option data-i18n="chest-5-u">[SZT] 4T - Zbroja Szturmowca</option>
          <option data-i18n="chest-6-u">[INŻ] 4T - Zbroja Kriegańskich Inżynierów</option>
          <option data-i18n="chest-7-u">[GRE] 3T - Zbroja Kriegańskiego Grenadiera</option>
          <option data-i18n="chest-8-u">Catachańska Rozpięta Kamizela</option>
          <option data-i18n="chest-9-u">Catachańska Zapięta Kamizela</option>
          <option data-i18n="chest-10-u">Pilotka</option>
          <option data-i18n="chest-11-u">[WET][SZT] 3P - Kirys Tempestus</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="shoulders-u">Naramienniki</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_shoulders" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="shoulders-0-u">1T - Patki Czołgistów</option>
          <option data-i18n="shoulders-1-u">2T - Flak Naramienniki</option>
          <option data-i18n="shoulders-2-u">1T - Osłony Kriegańskie</option>
          <option data-i18n="shoulders-3-u">[SZT] 1T - Szturmowe Pagony</option>
          <option data-i18n="shoulders-4-u">[WET]/[SRŻ] 2T - Vostroyański Epolet</option>
          <option data-i18n="shoulders-5-u">[INŻ] 2T - Kriegańskie Inżynieryjne Naramienniki</option>
          <option data-i18n="shoulders-6-u">Cadiańskie Galony</option>
          <option data-i18n="shoulders-7-u">Naszywki Lotnicze</option>
          <option data-i18n="shoulders-8-u">[WET][SZT] 1P - Naramienniki Tempestus</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="helmet-u">Nakrycie głowy</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_helmet" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="helmet-0-u">2T - Hełm wz. Cadia</option>
          <option data-i18n="helmet-1-u">[CHR] 2T - Hełm Sanitariusza </option>
          <option data-i18n="helmet-2-u">[SRŻ] 2T - Vox-Hełm wz. Cadia </option>
          <option data-i18n="helmet-3-u">4T - Hełm Czołgisty</option>
          <option data-i18n="helmet-4-u">1T - Hełm wz. Armageddon</option>
          <option data-i18n="helmet-5-u">2T - Hełm wz. Krieg</option>
          <option data-i18n="helmet-6-u">[GRE] 2T - Hełm Grenadiera wz. Krieg</option>
          <option data-i18n="helmet-7-u">[SRŻ] 2T - Hełm Oficerski wz. Krieg</option>
          <option data-i18n="helmet-8-u">1T - Futrzany Hełm Vostroyański</option>
          <option data-i18n="helmet-9-u">1T - Bandana Catachańska</option>
          <option data-i18n="helmet-10-u">1T - Chusta Catachańska</option>
          <option data-i18n="helmet-11-u">[SZT] 2T - Hełm Szturmowy</option>
          <option data-i18n="helmet-12-u">1T - Komunikator Vox</option>
          <option data-i18n="helmet-13-u">Beret</option>
          <option data-i18n="helmet-14-u">Gwardyjskie Kepi</option>
          <option data-i18n="helmet-15-u">[SRŻ] Czapka Garnizonowa</option>
          <option data-i18n="helmet-16-u">Kapelusz Graniczników</option>
          <option data-i18n="helmet-17-u">[ZWD]/[STR] Kaptur Zwiadowczy</option>
          <option data-i18n="helmet-18-u">[WET][SZT] 2P - Hełm wz. Tempestus</option>

          </select>
        </div>
    </div>
</div>
    <!-- END: REMOVE THIS TEXT -->
      <div class="sheet-row">
        <div class="sheet-item">
          <div class="sheet-item-left">
            <p data-i18n="uniform-color-u">Uniform color</p>
          </div>
          <div class="sheet-item-right">
            <textarea
            name="attr_uniform_color"
            style="width: 97%; height: 20px; resize: none; text-align: center"
          ></textarea>
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-item">
          <div class="sheet-item-left">
            <p data-i18n="token-preferences-u">Preferencje</p>
          </div>
          <div class="sheet-item-right" style="display:flex; align-items:baseline">
            <label for="chkbox_pref_mask" id="label_pref_mask"> Odkryj twarz spod maski </label>
            <input type="checkbox" name="attr_preference_mask" value="1" id="chkbox_pref_mask">
          </div>
        </div>
      </div>

      <div class="sheet-row">
        <div class="sheet-item">
          <div class="sheet-item-left">
          </div>
          <div class="sheet-item-right" style="display:flex; align-items:baseline">
            <label for="chkbox_pref_uniform" id="label_pref_uniform"> Schowaj pancerz pod koszulę </label>
            <input type="checkbox" name="attr_preference_uniform" value="1" id="chkbox_pref_uniform" >
          </div>
        </div>
      </div>



    </div>

    <!-- Armor points -->
    <div class="sheet-armor-points">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="armor-points-u">Armor points</h2>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-duo-left">
              <p data-i18n="armor-head-u">Head</p>
            </div>
            <div class="sheet-item-armor-duo-right">
              <textarea name="attr_armor_head" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-duo-left">
              <p data-i18n="armor-chest-u">Chest</p>
            </div>
            <div class="sheet-item-armor-duo-right">
              <textarea name="attr_armor_chest" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-duo-left">
              <p data-i18n="armor-abdomen-u">Abdomen</p>
            </div>
            <div class="sheet-item-armor-duo-right">
              <textarea name="attr_armor_abdomen" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-duo-left">
              <p data-i18n="armor-crotch-u">Crotch</p>
            </div>
            <div class="sheet-item-armor-duo-right">
              <textarea name="attr_armor_crotch" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <img
            src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/aquila.png"
            alt="aquila"
            style="height: 20px"
            />
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <p data-i18n="right-u">Prawa</p>
            </div>
            <div class="sheet-item-armor-trio-mid">
            </div>
            <div class="sheet-item-armor-trio-right">
              <p data-i18n="left-u">Lewa</p>
            </div>
          </div>
        </div>


        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_arm_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-arm-u">Arm</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_arm_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_forearm_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-forearm-u">Forearm</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_forearm_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_hand_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-hand-u">Hand</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_hand_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_thigh_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-thigh-u">Thigh</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_thigh_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_shin_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-shin-u">Shin</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_shin_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

        <div class="sheet-row">
          <div class="sheet-item">
            <div class="sheet-item-armor-trio-left">
              <textarea name="attr_armor_foot_P" class="sheet-item-armor-text"></textarea>
            </div>
            <div class="sheet-item-armor-trio-mid">
              <p data-i18n="armor-foot-u">Foot</p>
            </div>
            <div class="sheet-item-armor-trio-right">
              <textarea name="attr_armor_foot_L" class="sheet-item-armor-text"></textarea>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Gear -->
    <div class="sheet-gear">
      <div class="sheet-row">
        <div class="sheet-item">
          <h2 data-i18n="gear-u" class="gear-u">Gear</h2>
        </div>
      </div>
      <!-- REMOVE THIS TEXT -->

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="backpack-u">Plecak</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_backpack" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="backpack-0-u">Worek</option>
          <option data-i18n="backpack-1-u">1T - Standardowy Plecak</option>
          <option data-i18n="backpack-2-u">2T - Ciężki Plecak</option>
          <option data-i18n="backpack-3-u">[WET] 2T - Power-Pack wz. Krieg</option>
          <option data-i18n="backpack-4-u">[WET] 4T - Power-Pack wz. Tempestus</option>
          <option data-i18n="backpack-5-u">[WET] 6T - Power-Pack wz. Hellgun</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="cloak-u">Płaszcz</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_cloak" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="cloak-0-u">1T - Płaszcz Kamuflujący</option>
          <option data-i18n="cloak-1-u">Poszarpany Płaszcz</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="sheathed_weapon-u">Broń przy pasie</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_sheathed_weapon" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="sheathed_weapon-0-u">2T - Miecz</option>
          <option data-i18n="sheathed_weapon-1-u">3T - Nóż Catachański</option>
          <option data-i18n="sheathed_weapon-2-u">4T - Miecz Łańcuchowy</option>
          <option data-i18n="sheathed_weapon-3-u">[WET]/[SRŻ] 5T - Miecz Energetyczny</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="shoulderbag-u">Podwieszka</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_shoulderbag" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="shoulderbag-0-u">1T - Kabura na pistolet</option>
          <option data-i18n="shoulderbag-1-u">1T - Pas Amunicyjny</option>
          <option data-i18n="shoulderbag-2-u">2T - Bandolier</option>
          <option data-i18n="shoulderbag-3-u">2T - Bandolier z Nożem</option>
          <option data-i18n="shoulderbag-4-u">3T - Vox-Kamizela</option>
          <option data-i18n="shoulderbag-5-u">[SZT] 2T - Szturmowy Bandolier</option>
          <option data-i18n="shoulderbag-6-u">[SZT]/[INŻ] 2T - Bandolier do strzelby</option>
          <option data-i18n="shoulderbag-7-u">[WET] Koalicyjka Weterańska</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="waist-u">Pas</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_waist" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="waist-0-u">1T - Pas na magazynki</option>
          <option data-i18n="waist-1-u">2T - Pas Gwardzisty</option>
          <option data-i18n="waist-2-u">2T - Pas z granatem</option>
          <option data-i18n="waist-3-u">2T - Pas z kaburą</option>
          <option data-i18n="waist-4-u">2T - Vox-Pas</option>
          <option data-i18n="waist-5-u">[WET]/[SRŻ]/[INŻ] 4T - Pas-Auspex</option>
          <option data-i18n="waist-6-u">[SRŻ] 2T - Pas Oficerski</option>
          <option data-i18n="waist-7-u">[CHR] 2T - Pas Medyczny</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="necklace-u">Szyja</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_necklace" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="necklace-0-u">1T - Gogle</option>
          <option data-i18n="necklace-1-u">1T - Maska p.gaz wz. Armageddon</option>
          <option data-i18n="necklace-2-u">1T - Maska p.gaz wz. Cadia</option>
          <option data-i18n="necklace-3-u">Maska p.gaz wz. Krieg</option>
          <option data-i18n="necklace-4-u">Chusta</option>
          <option data-i18n="necklace-5-u">Nieśmiertelniki</option>
          <option data-i18n="necklace-6-u">Mały szalik</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="headgear-u">Headgear</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_headgear" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="headgear-0-u">1T - Gogle Uderzeniowe</option>
          <option data-i18n="headgear-1-u">1T - Gogle Taktyczne</option>
          <option data-i18n="headgear-2-u">1T - Bioniczne oko (prawe)</option>
          <option data-i18n="headgear-3-u">1T - Bioniczne oko (lewe)</option>
          <option data-i18n="headgear-4-u">2T - Noktowizor</option>
          <option data-i18n="headgear-5-u">Awiatory</option>
          <option data-i18n="headgear-6-u">Profesorki</option>
          <option data-i18n="headgear-7-u">Przepaska na oko (prawe)</option>
          <option data-i18n="headgear-8-u">Przepaska na oko (lewe)</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="additional_headgear-u">Dodatkowy headgear</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_additional_headgear" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="additional_headgear-0-u">1T - Zestaw Vox</option>
          <option data-i18n="additional_headgear-1-u">1T - Maska Przeciwgazowa</option>
          <option data-i18n="additional_headgear-2-u">1T - Maska p.gaz. wz. Armageddon</option>
          <option data-i18n="additional_headgear-3-u">1T - Maska p.gaz. wz. Cadia</option>
          <option data-i18n="additional_headgear-4-u">Shemagh</option>
          <option data-i18n="additional_headgear-5-u">Balaclava</option>
          <option data-i18n="additional_headgear-6-u">Uniesiona Chusta</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="mask-u">Maska</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_mask" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="mask-0-u">1T - Maska Vostroyańska</option>
          <option data-i18n="mask-1-u">[SZT] 1T - Maska Szturmowa</option>
          <option data-i18n="mask-2-u">[GRE] Maska p.gaz. wz. Krieg</option>
          <option data-i18n="mask-3-u">[INŻ] Maska p.gaz. wz. Krieg</option>
          <option data-i18n="mask-4-u">Maska p.gaz. wz. Krieg</option>
          <option data-i18n="mask-5-u">[WET][SZT] 1P - Maska wz. Tempestus</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="firearm-u">Broń długa</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_firearm" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="firearm-0-u">4T - Lasgun - wz. Triplex</option>
          <option data-i18n="firearm-1-u">5T - Lasgun - wz. Triplex BAGNET</option>
          <option data-i18n="firearm-2-u">8T - Lasgun - M35 wz. Galaxy</option>
          <option data-i18n="firearm-3-u">9T - Lasgun - M35 wz. Galaxy BAGNET</option>
          <option data-i18n="firearm-4-u">9T - Lasgun - M35 wz. Galaxy ENERGETYCZNY</option>
          <option data-i18n="firearm-5-u">10T - Lasgun - M35 wz. Galaxy MAX</option>
          <option data-i18n="firearm-6-u">12T - Lasgun - M36 wz. Kantrael</option>
          <option data-i18n="firearm-7-u">13T - Lasgun - M36 wz. Kantrael BAGNET</option>
          <option data-i18n="firearm-8-u">13T - Lasgun - M36 wz. Kantrael ENERGETYCZNY</option>
          <option data-i18n="firearm-9-u">13T - Lasgun - M36 wz. Kantrael CELOWNIK</option>
          <option data-i18n="firearm-10-u">14T - Lasgun - M36 wz. Kantrael BAGNET ENERGETYCZNY</option>
          <option data-i18n="firearm-11-u">14T - Lasgun - M36 wz. Kantrael BAGNET CELOWNIK</option>
          <option data-i18n="firearm-12-u">14T - Lasgun - M36 wz. Kantrael ENERGETYCZNY CELOWNIK</option>
          <option data-i18n="firearm-13-u">15T - Lasgun - M36 wz. Kantrael MAX</option>
          <option data-i18n="firearm-14-u">3T - Autogun - Hax-Orthlack Creed-9</option>
          <option data-i18n="firearm-15-u">4T - Autogun - Agripinaa typ II </option>
          <option data-i18n="firearm-16-u">5T - Autogun - Agripinaa typ II BAGNET</option>
          <option data-i18n="firearm-17-u">5T - Autogun - Agripinaa typ II HOLOGRAFICZNY</option>
          <option data-i18n="firearm-18-u">4T - Autogun - Urdesh wz. U90</option>
          <option data-i18n="firearm-19-u">5T - Autogun - Urdesh wz. U90 BAGNET</option>
          <option data-i18n="firearm-20-u">5T - Autogun - Urdesh wz. U90 TRÓJNÓG</option>
          <option data-i18n="firearm-21-u">6T - Autogun - Urdesh wz. U90 MAX</option>
          <option data-i18n="firearm-22-u">3T - Ciężki Miotacz wz. Othlack</option>
          <option data-i18n="firearm-23-u">6T - Ciężki Miotacz - wz. Vraks</option>
          <option data-i18n="firearm-24-u">2T - Strzelba - Dubeltówka</option>
          <option data-i18n="firearm-25-u">4T - Strzelba - wz. Vox Legi</option>
          <option data-i18n="firearm-26-u">3T - Karabin Wyborowy - Myśliwski</option>
          <option data-i18n="firearm-27-u">6T - Karabin Wyborowy - wz. Rozgrzeszenie</option>
          <option data-i18n="firearm-28-u">[WET] 20T - Hot-Shot wz. Tempestus</option>
          <option data-i18n="firearm-29-u">[WET] 15T - Miotacz Plazmy</option>

          </select>
        </div>
    </div>
</div>

<div class="sheet-row">
    <div class="sheet-item">
        <div class="sheet-item-left">
          <p data-i18n="pistol-u">Pierwsza broń krótka</p>
        </div>
        <div class="sheet-item-right">
          <select name="attr_pistol" class="advanceselect">
          <option data-i18n="item-none-u">Brak</option>

          <option data-i18n="pistol-0-u">1T - Autopistolet - Sulymann Encarmine</option>
          <option data-i18n="pistol-1-u">2T - Hecuter 9/5</option>
          <option data-i18n="pistol-2-u">2T - Rewolwer - wz. Zarona Ila</option>
          <option data-i18n="pistol-3-u">3T - Laspistol Kantrael wz. Obrońca</option>
          <option data-i18n="pistol-4-u">3T - Voss wz. nr 10</option>
          <option data-i18n="pistol-5-u">2T - Tarcza Arbites</option>

          </select>
        </div>
    </div>
</div>
      <!-- END: REMOVE THIS TEXT -->

      <div class="sheet-row">
          <div class="sheet-item">
              <div class="sheet-item-left">
                <p data-i18n="pistol-offhand-u">Broń krótka</p>
              </div>
              <div class="sheet-item-right">
                <select name="attr_pistol_offhand" class="advanceselect">
                <option data-i18n="item-none-u">Brak</option>
                <option data-i18n="shield-u">2T - Tarcza Arbites</option>
                </select>
              </div>
          </div>
      </div>

    </div>
  </div>
</div>

<!-- Aquila -->
<div class="sheet-footer">
  <div class="sheet-row">
    <div class="sheet-item">
      <img src="https://raw.githubusercontent.com/Project-Tempestus/assets/main/wh40k/aquila.png" alt="aquila"
        style="height: 100px" />
    </div>
    <div class="sheet-item">
      <h4>"Ziarna herezji kiełkują w umysłach oświeconych"</h4>
    </div>
    <div class="sheet-item">
      <h5>- Gilbran Quail, Archiwalia Schola Progenium </h5>
    </div>
  </div>


</div>


<!-- Manage tabs -->
<script type="text/worker">
  const buttonlist = ["entrypoint","personal"];
  buttonlist.forEach(button => {
      on(`clicked:${button}`, function() {
          setAttrs({
              sheetTab: button
          });
      });
  });
</script>

<!-- Update total skill value if modifier changes -->
<script type="text/worker">
  const int = score => parseInt(score, 10) || 0;

  const a_regiment = "regiment";
  const a_class = "class";

  var stat = ["marksmanship","cqb","strength","constitution","agility","knowledge"];
  var stat_mod = stat.map(i => i + "_modifier");
  var stat_base = stat.map(i => i + "_base");

  for (let i = 0; i < stat.length ; i++) {
    on(`change:${stat_mod[i]}`, () => {
      getAttrs([stat_base[i],stat_mod[i]], values => {
          let v_base = int(values[stat_base[i]]);
          console.log(v_base);
          let v_mod = int(values[stat_mod[i]]);
          console.log(v_mod);
          let v = v_base + v_mod
          console.log(v)
          setAttrs({
              [`${stat[i]}`]: v
          });
      });
    });
  }
</script>

<script type="text/worker">

  const _metadata = {
    name: 'Project:Tempestus',
    type: 'Character Sheet',
    version: '0.9.8',
  };

  const _ranks = {
    url_prefix:
      'https://raw.githubusercontent.com/Project-Tempestus/assets/main/ranks/',
    list: [
      {
        name: 'Gwardzista',
        url: 'Ranga1_Gwardzista.png',
      },
      {
        name: 'Starszy Gwardzista',
        url: 'Ranga2_StarszyGwardzista.png',
      },
      {
        name: 'Kapral',
        url: 'Ranga3_Kapral.png',
      },
      {
        name: 'Starszy Kapral',
        url: 'Ranga4_StarszyKapral.png',
      },
      {
        name: 'Plutonowy',
        url: 'Ranga5_Plutonowy.png',
      },
      {
        name: 'Starszy Plutonowy',
        url: 'Ranga6_StarszyPlutonowy.png',
      },
      {
        name: 'Sierżant',
        url: 'Ranga7_Sierzant.png',
      },
      {
        name: 'Starszy Sierżant',
        url: 'Ranga8_StarszySierzant.png',
      },
      {
        name: 'Sierżant Sztabowy',
        url: 'Ranga9_SierzantSztabowy.png',
      },
      {
        name: 'Podchorąży',
        url: 'Ranga10_Podchorazy.png',
      },
      {
        name: 'Chorąży',
        url: 'Ranga11_Chorazy.png',
      },
      {
        name: 'Podporucznik',
        url: 'Ranga12_Podporucznik.png',
      },
      {
        name: 'Porucznik',
        url: 'Ranga13_Porucznik.png',
      },
    ],
  };

  const _base_attrs = {
    marksmanship: {
      attr: 'marksmanship_base',
      value: 15,
    },
    cqb: {
      attr: 'cqb_base',
      value: 40,
    },
    strength: {
      attr: 'strength_base',
      value: 40,
    },
    constitution: {
      attr: 'constitution_base',
      value: 40,
    },
    agility: {
      attr: 'agility_base',
      value: 40,
    },
    knowledge: {
      attr: 'knowledge_base',
      value: 30,
    },
    hp: {
      attr: 'health-points_base',
      value: 100,
    },
  };

  const _regiments = {
    Cadia: {
      marksmanship: 5,
      cqb: 5,
      constitution: 5,
      agility: 5,
    },
    Catachan: {
      cqb: 10,
      strength: 5,
      agility: 5,
      hp: 15,
    },
    Krieg: {
      cqb: 5,
      constitution: 10,
      knowledge: 5,
    },
    Armageddon: {
      agility: 10,
      knowledge: 30,
    },
    Vostroya: {
      constitution: 10,
      strength: 10,
      hp: 30,
    },
  };

  const _classes = {
    chirurgon: {
      label: '[CHR] Chirurgon',
      constitution: 15,
      knowledge: 15,
    },
    engineer: {
      label: '[INŻ] Inżynier',
      strength: 10,
      knowledge: 20,
    },
    grenadier: {
      label: '[GRE] Grenadier',
      strength: 15,
      constitution: 15,
    },
    sargeant: {
      label: '[SRŻ] Sierżant',
      constitution: 10,
      hp: 10,
    },
    scout: {
      label: '[ZWD] Zwiadowca',
      agility: 30,
      knowledge: 10,
    },
    sharpshooter: {
      label: '[STR] Strzelec',
      marksmanship: 5,
    },
    stormtrooper: {
      label: '[SZT] Szturmowiec',
      cqb: 15,
      agility: 15,
    },
  };

  const game_config = {
    metadata: _metadata,
    ranks: _ranks,
    base_attrs: _base_attrs,
    regiments: _regiments,
    classes: _classes
  };

  print_config = function(){
    console.log("/* Global config");
    console.log(game_config);
    console.log("Global config */");
  };

  // We set the default rank for new characters or if the rank is deleted by accident.
  var set_default_rank = function(){
    const _rank_list = game_config.ranks.list;
    const _default_rank = _rank_list[0];
    const url = game_config.ranks.url_prefix + _default_rank.url;
    const attr_rank = {
        "current_rank": url,
        "current_rank_name": _default_rank.name
    };
    getAttrs(["current_rank_name"], values => {
      const id = _rank_list.findIndex((element) => element.name === values["current_rank_name"]);
      if (id === -1) {
        console.log("Set default rank to:");
        console.log(attr_rank);
        setAttrs(
          attr_rank
        );
      }
    });
  };

  var set_default_regiment = function () {
    getAttrs(['regiment'], values => {
      let v_regiment = values['regiment'];
      if (v_regiment === undefined)
        v_regiment = Object.keys(game_config.regiments)[0];
      setAttrs({ regiment: v_regiment });
    });
  };

  var set_default_class = function () {
    getAttrs(['class'], values => {
      let v_class = values['class'];
      if (v_class === undefined) {
        var key = Object.keys(game_config.classes)[0];
        v_class = game_config.classes[key].label;
      }
      setAttrs({ class: v_class });
    });
  };


  var change_rank = function(direction){
    if (direction !== 1 && direction !== -1)
      console.log("Unexpected direction, use +1 or -1");

    const _rank_list = game_config.ranks.list;
    getAttrs(["current_rank_name"], values => {
      const id = _rank_list.findIndex((element) => element.name === values["current_rank_name"]);

      let new_index = id + direction;
      // Overflow
      if (direction === 1 && new_index == _rank_list.length)
          new_index = 0;
      // Underflow
      else if (direction === -1 && new_index === -1)
          new_index = _rank_list.length-1;

      const attr_rank = {
          "current_rank": game_config.ranks.url_prefix + game_config.ranks.list[new_index].url,
          "current_rank_name": game_config.ranks.list[new_index].name
      };
      setAttrs(
        attr_rank
      );
    });
  };

  var update_guardsmen_stats = function(){
    getAttrs(["regiment", "class"], values => {
      let v_regiment = values["regiment"];
      let v_class = values["class"];

      var _class;
      for (var __class in game_config.classes) {
          if (v_class === game_config.classes[__class].label){
            _class = __class;
            break;
          }
      }

      var _base_attr_updates = {};

      for( var ability in game_config.base_attrs) {
        let attr = game_config.base_attrs[ability].attr
        let base_value = game_config.base_attrs[ability].value
        var regiment_bonus;
        var class_bonus;
        if (ability in game_config.regiments[v_regiment])
          regiment_bonus = (game_config.regiments[v_regiment])[ability];
        else
          regiment_bonus = 0;

        if (ability in game_config.classes[_class])
          class_bonus = (game_config.classes[_class])[ability];
        else
          class_bonus = 0;

        let ability_value = base_value + regiment_bonus + class_bonus;

        _base_attr_updates[attr] = ability_value;
      }
      setAttrs(_base_attr_updates);

      // FIXME: Connect to the game_config
      var stat = ["marksmanship","cqb","strength","constitution","agility","knowledge"];
      var stat_mod = stat.map(i => i + "_modifier");
      var stat_base = stat.map(i => i + "_base");
      const int = score => parseInt(score, 10) || 0;
      for (let i = 0; i < stat.length ; i++) {
          getAttrs([stat_base[i],stat_mod[i]], values => {
            let v_base = int(values[stat_base[i]]);
            let v_mod = int(values[stat_mod[i]]);
            let v = v_base + v_mod;
            setAttrs({
                [`${stat[i]}`]: v
            });
        });
      }
    });
  };

  var ability_rolls = function(template_name, test_name, character_skill, roll_formula, num_hits=1, do_ricochet=false) {
    var roll_text = "&{template:"+template_name+"}";
    roll_text += "{{character_name=@{character_name}}}";
    roll_text += "{{test_name=" + test_name + "}}";
    roll_text += "{{character_skill=@{" + character_skill + "}}}";
    roll_text += "{{roll_hit_location=[[1d100]]}}";
    roll_text += "{{out_hit_location=[[0]]}}";

    if(do_ricochet === true)
      roll_text += "{{roll_ricochet=[[1d100cs>96cf<96]]}}";

    if (num_hits === "hits" || num_hits === "shots")
      attr_num_hits = num_hits
    else
      attr_num_hits = "hits"

    getAttrs([attr_num_hits], function(values) {
      if (num_hits === "hits")
        num_hits = values.hits;

      if (num_hits === "shots")
        num_hits = values.shots;

      for (let i = 1; i <= num_hits; i++) {
        roll_text += "{{roll" + i +"="+ roll_formula +"}}";
      }

      var num_success = 0;
      startRoll(roll_text, (results) => {
          console.log(results);
          rollData = {};

          for (let i = 1; i <= num_hits; i++) {
            var r = "roll"+i;
            if(results.results[r].result <= get_success_threshold(results.results[r].expression)){
              num_success += 1;
            }
          }
          if (num_success > 0){
            roll_hit_locations(num_success);
          };

          finishRoll(
              results.rollId,
              rollData
          );
      });


    });
  };

  var roll_hit_locations = function(num_success){
    roll_loc = "&{template:locations}";

    for (let i = 1; i <= num_success; i++) {
      roll_loc += "{{out_hit_location" + i + "=[[1d100cs<100cf>100]]}}";
    }

    startRoll(roll_loc, (results) => {
      rollData = {};

      for (let i = 1; i <= num_success; i++) {
        var r = "out_hit_location"+i;
        rollData[r] = map_hit_location(results.results[r].result);
      }

      finishRoll(
          results.rollId,
          rollData
      );
    });
  }

  var get_success_threshold = function(expr) {
    // "1d100cs<26cf>26" -> 26
    const id_0 = expr.search("cs<");
    const id_1 = expr.search("cf>");
    const success_threshold=expr.substring(id_0+"cs<".length, id_1);
    return success_threshold;
  };

  var map_hit_location = function(value) {
    var location;
    if (value > 0 && value <= 10) {
      location = "[x5] Głowa";
    } else if (value > 10  && value <= 30) {
      location = "[x2] Klatka piersiowa";
    } else if (value > 30  && value <= 35) {
      location = "[x1] Prawe ramię";
    } else if (value > 35  && value <= 40) {
      location = "[x1] Lewe ramię";
    } else if (value > 40  && value <= 55) {
      location = "[x3] Brzuch";
    } else if (value > 55  && value <= 60) {
      location = "[x4] Krocze";
    } else if (value > 60  && value <= 65) {
      location = "[x1] Prawe przedramię";
    } else if (value > 65  && value <= 70) {
      location = "[x1] Lewe przedramię";
    } else if (value > 70  && value <= 72) {
      location = "[x1] Prawa dłoń";
    } else if (value > 72  && value <= 74) {
      location = "[x1] Lewa dłoń";
    } else if (value > 74  && value <= 80) {
      location = "[x1] Prawe udo";
    } else if (value > 80  && value <= 86) {
      location = "[x1] Lewe udo";
    } else if (value > 86  && value <= 91) {
      location = "[x1] Prawy goleń";
    } else if (value > 91  && value <= 96) {
      location = "[x1] Lewy goleń";
    } else if (value > 96  && value <= 98) {
      location = "[x1] Prawa stopa";
    } else if (value > 98  && value <= 100) {
      location = "[x1] Lewa stopa";
    } else {
      location = "Something went wrong";
    }
    return location;
  }

  var single_roll = function(test_name, character_skill, roll_formula) {
    ability_rolls(
      template_name="test",
      test_name=test_name,
      character_skill=character_skill,
      roll_formula=roll_formula,
      num_hits=1,
      do_ricochet=false
    );
  };

  var ricochet_rolls = function(test_name, character_skill, roll_formula, num_hits) {
    ability_rolls(
      template_name="ricochet",
      test_name=test_name,
      character_skill=character_skill,
      roll_formula=roll_formula,
      num_hits=num_hits,
      do_ricochet=true
    );
  };


  on(`sheet:opened`, function() {
    print_config();
    set_default_rank();
    set_default_regiment();
    set_default_class();
  });

  on(`clicked:rank_demotion`, function() {
    change_rank(direction=-1)
  });

  on(`clicked:rank_promotion`, function() {
    change_rank(direction=+1)
  });

  on('clicked:button_marksmanship', function() {
    ricochet_rolls(
      test_name="Strzelectwo",
      character_skill="marksmanship",
      roll_formula="[[1d100cs<@{marksmanship}cf>@{marksmanship}]]",
      num_hits = 1
    );
  });


  on('clicked:button_cqb', function() {
    ricochet_rolls(
      test_name="Zwarcie",
      character_skill="cqb",
      roll_formula="[[1d100cs<@{cqb}cf>@{cqb}]]",
      num_hits = 1
    );
  });

  on('clicked:button_strength', function() {
    single_roll(
      test_name="Siła",
      character_skill="strength",
      roll_formula="[[1d100cs<@{strength}cf>@{strength}]]"
    );
  });

  on('clicked:button_constitution', function() {
    single_roll(
      test_name="Wytrzymałość",
      character_skill="constitution",
      roll_formula="[[1d100cs<@{constitution}cf>@{constitution}]]"
    );
  });

  on('clicked:button_agility', function() {
    single_roll(
      test_name="Zwinność",
      character_skill="agility",
      roll_formula="[[1d100cs<@{agility}cf>@{agility}]]"
    );
  });

  on('clicked:button_knowledge', function() {
    single_roll(
      test_name="Wiedza",
      character_skill="knowledge",
      roll_formula="[[1d100cs<@{knowledge}cf>@{knowledge}]]"
    );
  });

  on('clicked:button_initiative', function() {
    single_roll(
      test_name="Inicjatywa",
      character_skill="agility",
      roll_formula="[[2d20cs>0+@{agility}]]"
    );
  });

  var used_bursts = [1,2,3,5];

  used_bursts.forEach(burst => {
    var button_name = "button_shot_" + burst.toString();
    on(`clicked:${button_name}`, function() {
      ricochet_rolls(
        test_name="Strzelectwo",
        character_skill="marksmanship",
        roll_formula="[[1d100cs<@{marksmanship}cf>@{marksmanship}]]",
        num_hits=burst
      );
    });
  });

  used_bursts.forEach(burst => {
    var button_name = "button_hit_" + burst.toString();
    on(`clicked:${button_name}`, function() {
      ricochet_rolls(
        test_name="Zwarcie",
        character_skill="cqb",
        roll_formula="[[1d100cs<@{cqb}cf>@{cqb}]]",
        num_hits=burst
      );
    });
  });

  on('clicked:button_hits', function() {
    ability_rolls(
      template_name="ricochet",
      test_name="Zwarcie",
      character_skill="cqb",
      roll_formula="[[1d100cs<@{cqb}cf>@{cqb}]]",
      num_hits="hits",
      do_ricochet=true
    );
  });

  on('clicked:button_shots', function() {
    ability_rolls(
      template_name="ricochet",
      test_name="Strzelectwo",
      character_skill="marksmanship",
      roll_formula="[[1d100cs<@{marksmanship}cf>@{marksmanship}]]",
      num_hits="shots",
      do_ricochet=true
    );
  });

   on(`change:regiment change:class sheet:opened`, () => {
    update_guardsmen_stats();
   });
</script>
